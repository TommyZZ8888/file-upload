# file-upload

##### demo01
demo1: 前端部分还有一些bug，基础功能可以使用,,,原作者地址：https://gitee.com/czh-dev/upload-hub
文件上传 本地/minio

分片上传 断线续传



========================================================================

##### demo02
demo02:前端上传，后端合并文件，保存上传信息 参照blog：https://www.cnblogs.com/jsonq/p/18186340
原作地址：https://gitee.com/jsonqi/minio-spring-web

整体步骤：

前端计算文件 md5，并发请求查询此文件的状态
若文件已上传，则后端直接返回上传成功，并返回 url 地址
若文件未上传，则前端请求初始化分片接口，返回上传地址。循环将分片文件和分片地址一一对一应
若文件上传一部分，后端会返回该文件的 uploadId （minio中的文件标识）和 listParts（已上传的分片索引），前端请求初始化分片接口，后端重新生成上传地址。前端循环将已上传的分片过滤掉，未上传的分片和分片地址一一对应。
前端通过分片地址将分片文件一一上传
上传完毕后，前端调用合并分片接口
后端判断该文件是单片还是分片，单片则不走合并，仅信息入库，分片则先合并，再信息入库。删除 redis 中的文件信息，返回文件地址。
